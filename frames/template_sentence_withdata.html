<html>
<head></head>
<body>

<!-- Bootstrap v3.0.3 -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<link href="https://s3.amazonaws.com/mturk-public/bs30/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<section class="container" id="Other" style="margin-bottom:15px; padding: 10px 10px; font-family: Verdana, Geneva, sans-serif; color:#333333; font-size:0.9em; font-size: medium;">
<div class="row col-xs-12 col-md-12"><!-- Instructions -->
<div class="panel panel-primary">
<div class="panel-heading"><strong>Instructions</strong></div>

<div class="panel-body">
<p>You will read a sentence with a <strong>highlighted phrase</strong>. From the list below, select <strong>all meanings</strong> that can apply to the highlighted phrase, in the context of the sentence.</p>

<p>If the right meaning is not in the list, select <strong>None of the above</strong>.</p>
</div>
</div>
<!-- End Instructions --><!-- Content Body -->

<section>

<div class="panel panel-default">
<div class="panel-heading">The sentence:</div>
<div class="panel-body"><span class="sentence" id="sentence">Anarchism is a political philosophy that advocates self-governed societies based on voluntary institutions.</span></div>
</div>

<fieldset>
<label>What are the phrase(s) that best describe the meaning of <span id="phrase_question">advocates</span> in the context of the sentence above?</label>

<div class="checkbox" id="checkbox">
</div>

<div id="demo" class="collapse">
Explain the meaning of <span id="phrase_question">advocates</span> in your own words:
<textarea name='WhyNone' rows=3 cols=80></textarea>
</div>

<input id="phrase" name="phrase" type="hidden" value="advocates" />
<input id="b" name="b" type="hidden" value="6" />
<input id="e" name="e" type="hidden" value="7" />
<input id="framelist" name="framelist" type="hidden" value="f:Communication,f:Attempt_suasion,Request,f:Text_creation,f:Speak_on_topic" />
<input id="framedef" name="framedef" type="hidden" value="'A Communicator conveys a Message to an Addressee; the Topic and Medium of the communication also may be expressed.','The Speaker expresses through language his wish to get the Addressee to act. There is no implication that the Addressee forms an intention to act, let alone acts.','A Speaker asks an Addressee for something, or to carry out some action.','An Author creates a Text, either written, such as a letter, or spoken, such as a speech, that contains meaningful linguistic tokens, and may have a particular Addressee in mind.','A Speaker addresses an Audience on a particular Topic.'" />
</fieldset>


</section>
<!-- End Content Body --></div>
</section>
<!-- close container -->
<style type="text/css">fieldset {
    padding: 10px;
    background:#fbfbfb;
    border-radius:5px;
    margin-bottom:5px;
    font-size: medium;
}

.checkbox label {
  padding: 10px;
}

.sentence {
  font-family: Garamond, Georgia, serif;
  color: #0000A0;
  font-size: large;
  text-align:center;
}

.sentfieldset {
  border: 1px solid gray; padding: 10px; margin: 0px; -webkit-border-radius: 5px; -moz-border-radius: 5px;
  border-radius: 5px;
  background:white;
}

.sentlegend {
  text-align: left;
  font-size: medium;
}

#phrase_question {
  // text-transform: uppercase;
  font-weight: bold;
  color: darkred;
  font-family: Garamond, Georgia, serif;
  font-size: large;
}
</style>


<script type="text/javascript">

  (function($){function injector(t,splitter,klass,after){var a=t.text().split(splitter),inject='';if(a.length){$(a).each(function(i,item){inject+='<span class="'+klass+(i+1)+'">'+item+'</span>'+after});t.empty().append(inject)}}var methods={init:function(){return this.each(function(){injector($(this),'','char','')})},words:function(){return this.each(function(){injector($(this),' ','word',' ')})},lines:function(){return this.each(function(){var r="eefec303079ad17405c889e092e105b0";injector($(this).children("br").replaceWith(r).end(),r,'line','')})}};$.fn.lettering=function(method){if(method&&methods[method]){return methods[method].apply(this,[].slice.call(arguments,1))}else if(method==='letters'||!method){return methods.init.apply(this,[].slice.call(arguments,0))}$.error('Method '+method+' does not exist on jQuery.lettering');return this}})(jQuery);

  var sentence = document.getElementById("sentence");
  var b = parseInt(document.getElementById("b").getAttribute("value"));
  var e = parseInt(document.getElementById("e").getAttribute("value"));
  var framelist = document.getElementById("framelist");
  var framelist_array = framelist.getAttribute("value").split("f\:").join("").split(",");
  var framedef = document.getElementById("framedef");
  var framedef_array = framedef.getAttribute("value").split("','");
  framedef_array[0] = framedef_array[0].substring(1);
  framedef_array[framedef_array.length - 1] = framedef_array[framedef_array.length - 1].slice(0, -1);
  
  for (var idx = 0; idx < framelist_array.length; idx++) {
    var label = document.createElement("label");
    
    var input = document.createElement("input");
    var input_name = document.createAttribute("name");
    input_name.value = "FrameType";
    input.setAttributeNode(input_name);
    var type = document.createAttribute("type");
    type.value = "checkbox";
    input.setAttributeNode(type);
    var val = document.createAttribute("value");
    val.value = framelist_array[idx];
    input.setAttributeNode(val);
    var id = document.createAttribute("id");
    id.value = framelist_array[idx];
    input.setAttributeNode(id);
    label.appendChild(input);
    
    var label_text = document.createElement("span");
    label_text.innerHTML = "<b>" + framelist_array[idx] + ":</b> " + framedef_array[idx];
    label.appendChild(label_text);
    
    document.getElementById("checkbox").appendChild(label);
    document.getElementById("checkbox").appendChild(document.createElement("BR"));
    document.getElementById("checkbox").appendChild(document.createElement("BR"));
  }
  var label = document.createElement("label");
  var input = document.createElement("input");
  var input_name = document.createAttribute("name");
  input_name.value = "FrameType";
  input.setAttributeNode(input_name);
  var type = document.createAttribute("type");
  type.value = "checkbox";
  input.setAttributeNode(type);
  var val = document.createAttribute("value");
  val.value = "None of the above.";
  input.setAttributeNode(val);
  var id = document.createAttribute("id");
  id.value = "none";
  input.setAttributeNode(id);
  var dt = document.createAttribute("data-toggle");
  dt.value = "collapse";
  label.setAttributeNode(dt);
  var dtar = document.createAttribute("data-target");
  dtar.value = "#demo";
  label.setAttributeNode(dtar);
  document.getElementById("checkbox").appendChild(label);
  label.appendChild(input);
  var label_text = document.createTextNode("None of the above.");
  label.appendChild(label_text);
   
   $(document).ready(function(){
    //$(".collapse").collapse();
		$("#sentence").lettering('words');
		// give ids for each word (position in sentence)
		var spans = $("#sentence").find("span").each(function() {
			var idNumber = $(this).attr("class").slice(4);
			$(this).attr("id", idNumber);
		});
		
		for (var idx = b + 1; idx <= e; idx++) {
		  //alert($(".word" + idx).text());
		  //$(".word" + idx).css("text-transform", "uppercase");
		  $(".word" + idx).css("font-weight", "bold");
		  $(".word" + idx).css("font-size", "large");
		  $(".word" + idx).css("color", "darkred");
		}
		
		$("#none").change(function() {
		  if($(this).prop("checked")) {
		    for (var idx = 0; idx < framelist_array.length; idx++) {
		      $("#" + framelist_array[idx]).prop("checked", false);
		    }
		  }
		});
		for (var idx = 0; idx < framelist_array.length; idx++) {
  		$("#" + framelist_array[idx]).change(function() {
  		  if($(this).prop("checked")) {
  		    $("#none").prop("checked", false);
  		    $(".collapse").collapse("hide");
  		  }
  		});
		}
	});
  

</script>

<body>
</html>
